{% extends 'base.html' %}

{% block title %}Szczegóły-{{data['id']}}{% endblock %}

{% block content %}
<div class='container'>
    <br>
    <table class="table">
        <thead>
          <tr>
              <th>Właściwość</th>
              <th>Opis</th>
              
          </tr>
        </thead>
        <tbody>
            <tr class>
                <td class="col-sm-3 align-middle">Id zamówienia</td>
                <td class="col-sm-9 text-break">{{ data['id'] }}</td>
            </tr>
            <tr class>
                <td class="col-sm-3 align-middle">Data zamowienia</td>
                <td class="col-sm-9 text-break">{{ data['date'] }}</td>
            </tr>
            <tr class>
                <td class="col-sm-3 align-middle">Data dostawy</td>
                <td class="col-sm-9 text-break">
                    <div class="accordion accordion-flush" id="accordion1">
                        <div class="accordion-item">
                          <h2 class="accordion-header" id="flush-headingOne">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseOne" aria-expanded="false" aria-controls="flush-collapseOne">
                              {{ data['deadline_date'] }}
                            </button>
                          </h2>
                          <div id="flush-collapseOne" class="accordion-collapse collapse" aria-labelledby="flush-headingOne" data-bs-parent="#accordionFlushExample">
                            <table class="table">
                                <tr >
                                    <td>Czas oczekiwania w dniach</td>
                                    <td>{{ data['deadline_length_days'] }}</td>
                                </tr>
                                <tr>
                                    <td>Czas oczekiwania w godzinach</td>
                                    <td>{{ data['deadline_length_hours'] }}</td>
                                </tr>
                            </table>
                          </div>
                        </div>
                    </div>
                </td>
            </tr>
            <tr class>
                <td class="col-sm-3 align-middle">Tytuł</td>
                <td class="col-sm-9 text-break">{{ data['title'] }}</td>
            </tr>
            <tr class>
                <td class="col-sm-3 align-middle">Opis</td>
                <td class="col-sm-9 text-break">{{ data['description'] }}</td>
            </tr>
            <tr class>
                <td class="col-sm-3 align-middle">Wartość zamówienia</td>
                <td class="col-sm-9 text-break">
                    <div class="accordion accordion-flush" id="accordion2">
                        <div class="accordion-item">
                          <h2 class="accordion-header" id="flush-headingTwo">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseTwo" aria-expanded="false" aria-controls="flush-collapseTwo">
                              {{ data['awarded_value'] + " " + data['awarded_currency'] }}
                            </button>
                          </h2>
                          <div id="flush-collapseTwo" class="accordion-collapse collapse" aria-labelledby="flush-headingTwo" data-bs-parent="#accordionFlushExample">
                            {{ data['awarded_value_eur'] + " EUR"}}
                          </div>
                        </div>
                    </div>
                </td>
            </tr>
            <tr class>
                <td class="align-middle text-center fw-bold" colspan=2>Dostawcy</td>
            </tr>
            {% for awarded in data['awarded'] %}
            <tr class>
                <td class="col-sm-3 align-middle">Nazwa dostawcy</td>
                <td class="col-sm-9 text-break">{{ awarded['suppliers_name'] }}</td>
            </tr>
            <tr class>
                <td class="col-sm-3 align-middle">Data</td>
                <td class="col-sm-9 text-break">{{ awarded['date'] }}</td>
            </tr>
            <tr class>
                <td class="col-sm-3 align-middle">Id dostawcy</td>
                <td class="col-sm-9 text-break">{{ awarded['suppliers_id'] }}</td>
            </tr>
            <tr class>
                <td class="col-sm-3 align-middle"></td>
                <td class="col-sm-9 text-break"></td>
            </tr>
            {% endfor %}
        </tbody>
      </table>    
</div>
{% endblock %}